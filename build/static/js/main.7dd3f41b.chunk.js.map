{"version":3,"sources":["components/PersonForm.js","components/Filter.js","components/Person.js","components/Persons.js","services/PersonService.js","App.js","index.js"],"names":["PersonForm","props","react_default","a","createElement","onSubmit","addPerson","value","newName","onChange","onChangeName","newNumber","onChangeNumber","type","Filter","filter","handleSearchChange","ShowAll","name","number","onClick","removePerson","Persons","persons","index","content","includes","map","object","Person","key","id","handleRemovePerson","baseUrl","PersonService","axios","get","then","response","data","newObject","post","delete","concat","put","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","newSearch","setNewSearch","useEffect","personService","initialPerson","components_Filter","event","target","components_PersonForm","preventDefault","person","length","personObject","returnedPerson","alert","oldPerson","find","changedPerson","objectSpread","console","log","components_Persons","window","confirm","personId","setTimeout","ReactDOM","createRoot","document","getElementById","render","src_App"],"mappings":"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","file":"static/js/main.7dd3f41b.chunk.js","sourcesContent":["import React from \"react\";\r\nconst PersonForm = ( props ) => {\r\n    return (\r\n     <form onSubmit={props.addPerson}>\r\n         name: <input value={props.newName}\r\n         onChange={props.onChangeName}\r\n         />\r\n         number: <input value={props.newNumber}\r\n         onChange={props.onChangeNumber}\r\n         />\r\n         <button type=\"submit\"> add </button>\r\n     </form>\r\n    \r\n    )\r\n  }\r\n  \r\n  export default PersonForm","import React from \"react\";\r\nconst Filter = (props) => {\r\n    return (\r\n        <form>\r\n            filter shown with\r\n            <input \r\n            value={props.filter}\r\n            onChange={props.handleSearchChange}\r\n            />\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from \"react\";\r\nconst ShowAll = (props) => {\r\n\r\n    return (\r\n        <div>\r\n                {props.name} {props.number} <button onClick={props.removePerson}>Delete</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ShowAll","import ShowAll from \"./Person\"\r\nimport React from \"react\";\r\n\r\nconst Persons = (props) => {\r\n    return (\r\n        <ul>\r\n         {props.persons.filter(index => index.content && index.content.includes(props.filter)).map(object =>  (\r\n            <ShowAll key={object.id} name={object.content} number={object.number} removePerson={props.handleRemovePerson(object.name, object.id)}/>\r\n         ))}\r\n        </ul>\r\n    )\r\n}\r\n\r\nexport default Persons","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response =>  response.data)\r\n}\r\n\r\nconst create = (newObject) => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst destroy = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`, id)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, destroy, update }","import React from \"react\";\nimport { useState, useEffect  } from 'react'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport Persons from './components/Persons'\nimport personService from './services/PersonService'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([]) \n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newSearch, setNewSearch] = useState('')\n  \n\n \n\n  useEffect(() => {\n    personService\n    .getAll()\n      .then(initialPerson => {\n        setPersons(initialPerson)\n      })\n  }, [])\n  const addPerson = (event) => {\n    event.preventDefault()\n    \n    if(persons.filter(person => person.content === newName).length <= 0) {\n      const personObject = {\n        content: newName,\n        number: newNumber,\n        id: persons.length + 1,\n      }\n    personService\n    .create(personObject)\n    .then(returnedPerson =>  {\n    setPersons(persons.concat(returnedPerson))\n    setNewName('')\n    })\n    } else {\nalert(`${newName} is already in the phonebook do you want to change number?`)\n    const oldPerson = persons.find(oldPerson => oldPerson.content === newName)\n    const changedPerson = {...oldPerson, number: newNumber}\n    console.log(oldPerson)\n    console.log(changedPerson)\n    personService\n    .update(oldPerson.id, changedPerson)\n    .then(returnedPerson => {\n      setPersons(persons.map(person => person.content !== oldPerson.content ? person : returnedPerson))\n      setNewName('')\n      setNewNumber(\"\");\n    })\n    \n    }\n  }\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearchChange = (event) => {\n    setNewSearch(event.target.value)\n  }\n/*\n  const handleRemovePerson = (id) => {\n  personService\n  .destroy(id)\n  .then(() => {\n    \n    setPersons(persons.filter(id => id.id !== id))\n    setNewName(\"\")\n    setNewNumber(\"\")\n  })\n  }\n*/\n\n  const handleRemovePerson = (name, id) => {\n    return () => {\n      if (window.confirm(`Want to delete ${name} ?`)) {\n        personService\n          .destroy(id)\n          .then(() => {\n            setPersons(persons.filter(personId => personId.id !== id));\n            setNewName(\"\");\n            setNewNumber(\"\");\n          })\n        setTimeout(() => {\n        }, 5000);\n      }\n    };\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Filter \n      filter={newSearch}\n      handleSearchChange={handleSearchChange}\n      />\n      <h3>Add a new</h3>\n       <PersonForm \n       newName={newName}\n       newNumber={newNumber}\n       onChangeName={handleNameChange}\n       onChangeNumber={handleNumberChange}\n       addPerson={addPerson}\n        />\n      <h3>Numbers</h3>\n      <Persons \n      persons={persons}\n      filter={newSearch}\n      handleRemovePerson={handleRemovePerson}\n      />\n    </div>\n  )\n\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\nimport React from \"react\";\nimport './index.css'\n\n\nReactDOM.createRoot(document.getElementById('root')).render(<App />)\n"],"sourceRoot":""}